---
layout: default
permalink: /myths-and-legends/amur-psyche-code/
title: Мифы и легенды информатики - Код Амура и Психеи
---

# Глава 3. Код Амура и Психеи

История кодирования информации является исключительно занимательной. Всякое упоминания о том, как кодировалась и передавалась информация, вызывает неподдельное восхищение изобретательностью человека.
Завязка поучительной истории относится к времени царствования Екатерины Великой. Она была неравнодушна к Франции,  всякие  интересные подробности из жизни французского общества ее живо интересовали. Посему было предписание, всякому посещавшему Францию по разным надобностям непременно сообщать о том необычном для русского человека, что могло  заинтересовать императрицу.
Вот отрывок из письма, который нашелся в архиве. Стиль и язык адаптированы и не совпадает с оригиналом, поскольку хотелось донести смысл письма. Кроме того, в те времена в текстах допускались очень крепкие выражения.

...Довожу до вашего сведения любопытную историю, которая приключилась со мной в Версале. Мною не раз совершались попытки  близко познакомиться с какой-нибудь дамой из высшего света, но за редким исключением они все бесславно провалились, что меня исключительно раздосадовало. Наблюдая за ходом светских приемов, я обнаружил, что у других кавалеров всякая попытка сблизится с дамой, всегда заканчивалось успешно. Меня это сильно раздражало, и я пытался понять, чем я отличаюсь от других кавалеров.

Маркиз N (он категорически запретил мне упоминать свое имя), с которым я сошелся достаточно близко после нескольких холостяцких пирушек, объяснил причину моих неудач. Дело заключалось в том, что нужно было внимательнейшим образом рассматривать украшения светских красавиц, особенно их ожерелья или браслеты. При рассмотрении украшений надо было посчитать количество жемчужин или камушков, вычесть число 5, после чего заглянуть в некую маленькую книгу, которая называлась «Книга Амура», и прочитать высказывание под получившимся номером. Он сообщил мне некоторые особенно полезные номера и, что они означают. Выучив его наставления, я с успехом применил их в практическом направлении...

В это можно поверить, если внимательно посмотреть на портреты известных фавориток.

## Диана де Пуатье (1499—1566)

![Диана де Пуатье]({{site.baseurl}}/assets/content/image/myths-and-legends/amur-psyche-code/DianedePoitiers.jpg)

А вот любопытнейшее письмо от прусского аристократа своему другу, который управлял подразделением особых операций  (читай разведка и контрразведка).

...эта книга (имеется ввиду "Книга Амура")  непрерывно совершенствовалась и модифицировалась с целью более полного выражения чувств дамы. Поэтому есть некоторые модификации. Первая модификация заключалась в том, что использовались разноцветные бусы. Количество белых бус показывало номер страницы книги, количество красных номер параграфа на странице, количество желтых номер высказывания в данном параграфе. Кстати параграфы были сгруппированы по определяющим признакам,  например,  был параграф, посвященный грустному состоянию дамы. Так что,  зная только номер параграфа можно было узнать состояние дамы, и в зависимости от этого делать вывод читать дальше или нет. Это чрезвычайно удобно, ибо если бусы разрывались, то, собрав все бусинки можно было определить состояние дамы...

Изобретательности нет предела. То, что сейчас называется хешированием,  было реализовано на бусах.

Продолжаем письмо.

"...Поскольку  мода переменчива, то случались времена, когда носить разноцветные бусы было дурным тоном. Поэтому для одноцветных бус была придумана вторая модификация.  Надо было, мысленно отсчитывать по пять бусинок, и когда не было возможности набрать пять бусинок,   посмотреть,  сколько осталось, прибавить единицу, и это был номер страницы книги. Далее надо было отсчитывать по 4 бусинки, и когда не было возможности  набрать четыре бусинки  посмотреть, сколько осталось прибавить единицу, и это был номер параграфа. И, наконец,  надо было набирать по три бусинки и к тому количеству, которое  оставалось прибавить единицу, это был номер высказывания..."

Вот это да, здесь не только  хеширование, но еще и китайская теорема об остатках. Либо, кто-то бывал в китайской армии и знал, как китайцы считали количество воинов. Либо  создатель этой книги знал теорию чисел.

"...Дорогой друг посылаю тебе образец книги, а также ожерелье. Если ты понял, как надо прочитать ожерелье то поймешь, что это ожерелье говорит – "я сегодня не склонна принимать ухаживания, но если вы будете достаточно настойчивы то все возможно".
Поскольку  получатель этого письма  имел прямое отношение к разведке, то этот рассказ его необычайно взволновал. Он решил, что эта технология скрытой передачи информации в точности то, что нужно для его департамента. Действительно если  кто-то долго общается с фавориткой высокопоставленного лица, то это обстоятельство может вызвать законные подозрения, а если фаворитка каждый вечер меняет ожерелье или браслет, то для  дамы высшего света это вполне нормально. Следовательно, нужно разработать аналог    "Книги Амура", в которой комбинации бус будут обозначать то, что нужно знать резиденту.  Был немедленно вызван молодой честолюбивый прусский  офицер, которому была разъяснена суть проблемы и дано указание тщательно ее изучить. Про этого офицера известно крайне мало. Имя его сохранилось – Генрих. Он получил очень приличное математическое образование, в частности он читал труды Лейбница по комбинаторике. Исторически забавный факт заключается в том, что один из создателей шифровальной машины "Enigma", был прямым родственником Генриха.

Известно, что Генрих написал огромный отчет о проделанной работе. Самые любопытные части этого отчета будут приведены ниже с комментариями. Отчет написан в типично немецком стиле, а это означает, что это чрезвычайно педантичный до занудства трактат, читать который невероятно трудно, поскольку все время от этого занудства тянет в сон.

Итак, вернемся к отчету. Поскольку речь идет о разноцветных бусах, то первая часть посвящена методам раскрашивания. Поскольку это относится к химии, в коей немцы традиционно сильны, то в отчете подробно описывается тогдашнее состояние химии, относящееся к красителям. Эту часть опустим, оставив только вывод. А вывод заключался в том, что раскрасить, например жемчуг, больше чем в 10-20 разных  цветов тогдашнее состояние химии не позволяло.

Степень обстоятельности отчета показывает следующая часть трактата. Генрих обратил внимание на то, что в зависимости от освещенности, цвета выглядят по-разному. Это означает, что резидент не сможет в зависимости от освещенности различать некоторые цвета  а, следовательно, проинтерпретировать послание. На этот счет было проведено исследование, которое показало, что в реальности различимых в любой обстановке цветов остается 5-8.

В отчете он пишет, что использование книги не является удобным, поскольку в этом случае подразумевается, что все возможные сообщения подготовлены заранее. В практике невозможно предусмотреть все  события, поэтому Генрих предлагает не использовать книгу, а приписать каждой бусинке букву и тем самым просто читать ожерелье как некоторый текст. Кроме того,  нужно уметь передавать цифры.  Генрих объединил буквы алфавита – их 23, добавил цифры – их 10 и еще знак пробела. Всего символов стало 34.
А это означало, что ему для передачи нужно уметь было раскрашивать  бусинки в тридцать четыре разных цвета. Поскольку химики этого обеспечить не могли, перед Генрихом возникла проблема.
Решает он ее следующим образом. Вот соответствующий текст из отчета.

...Любая книга состоит из фраз. Любая фраза состоит из слов. Любое слово состоит из букв (символов). Есть слова, состоящие из одной буквы (символа). Из чего состоит буква (символ)?

...Символ состоит из некоторых сущностей, которые все равно как называть, поэтому назовем их  бусинками. Символы различаются изображением, поэтому и сущности должны различаться. Будем различать их по цвету (так требует приложение). Итак, каждому символу приписывается некоторый набор раскрашенных шариков.
Далее Генрих  пишет, как это сделать.
